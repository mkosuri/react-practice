<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>life cycle mounting</title>
    <script src="react-0.8.0.js"></script>
    <script src="JSXTransformer-0.8.0.js"></script>
</head>
<body>
  <h4>life cycle mounting</h4>
		<button onClick="render()">Render</button>
		<button onClick="unmount()">Unmount</button>
  <div id="panel"></div>
  <script type="text/jsx">
    /** @jsx React.DOM */
     
     var APP = 
        React.createClass({
          
        	update:function(){
                var newVal = this.props.val+1
                this.setProps({val:newVal})
            },

		          componentWillMount:function(){
		          	 alert("checking");
		              this.setState({m:2});
		              if(this.props.val===0){
		                  this.btnStyle = {'color':'red'}
		              }
		          },
           render:function(){
                return <button onClick={this.update}>{this.props.val*this.state.m}</button>
            },

          componentDidMount:function(){
          	   alert("did mount value");
                // this.inc = setInterval(this.update,500)
            },
            componentWillUnmount:function(){
              alert("goodbye");
            },
        });
    window.render = function(){
     React.renderComponent(<APP val={0} />,document.getElementById('panel'))
     } 
     window.unmount = function(){
            React.unmountComponentAtNode(document.getElementById('panel'))
        }         
  </script>
</body>
</html>